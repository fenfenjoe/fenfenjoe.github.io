import{_ as n,c as a,a as e,o as t}from"./app-Dz2xZzfz.js";const p={};function i(l,s){return t(),a("div",null,s[0]||(s[0]=[e(`<h1 id="在github-pages中部署你的博客" tabindex="-1"><a class="header-anchor" href="#在github-pages中部署你的博客"><span>在Github Pages中部署你的博客</span></a></h1><h2 id="优缺点" tabindex="-1"><a class="header-anchor" href="#优缺点"><span>优缺点</span></a></h2><p>优点：免费、提交文章后自动部署（CI/CD）<br> 缺点：需要科学上网、国内无法备案，无法使用国内CDN</p><h2 id="部署步骤" tabindex="-1"><a class="header-anchor" href="#部署步骤"><span>部署步骤</span></a></h2><p>0.需要支持科学上网，不然访问<a href="www.github.com">github</a>可能会超时。</p><p>1.安装Git</p><p>略</p><p>2.在博客项目的根目录创建.github/workflows目录，在里面创建CI.yml文件（名称任意命名，但后缀一定要.yml）</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">.github</span>
<span class="line">  - workflows</span>
<span class="line">    CI.yml  </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>CI.yml文件内容如下：</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">name</span><span class="token punctuation">:</span> A TO A<span class="token punctuation">:</span>GH_PAGES</span>
<span class="line"><span class="token key atrule">on</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>push<span class="token punctuation">]</span></span>
<span class="line"><span class="token key atrule">jobs</span><span class="token punctuation">:</span></span>
<span class="line">  <span class="token key atrule">build-and-deploy</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest</span>
<span class="line">    <span class="token key atrule">steps</span><span class="token punctuation">:</span></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout</span>
<span class="line">        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@master</span>
<span class="line"></span>
<span class="line">      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build and Deploy</span>
<span class="line">        <span class="token key atrule">uses</span><span class="token punctuation">:</span> jenkey2011/vuepress<span class="token punctuation">-</span>deploy@master</span>
<span class="line">        <span class="token key atrule">env</span><span class="token punctuation">:</span></span>
<span class="line">          <span class="token key atrule">ACCESS_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.ACCESS_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line">          <span class="token key atrule">TARGET_REPO</span><span class="token punctuation">:</span> your_account/note <span class="token comment"># 你的仓库名称</span></span>
<span class="line">          <span class="token key atrule">TARGET_BRANCH</span><span class="token punctuation">:</span> gh_pages</span>
<span class="line">          <span class="token key atrule">BUILD_SCRIPT</span><span class="token punctuation">:</span> npm install <span class="token important">&amp;&amp;</span> npm run docs<span class="token punctuation">:</span>build</span>
<span class="line">          <span class="token key atrule">BUILD_DIR</span><span class="token punctuation">:</span> docs/.vuepress/dist/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.到Github创建同名的远程仓库</p><blockquote><p>注意，如果创建的仓库为私人仓库，则无法<strong>免费</strong>使用Github Pages的服务来部署你的Vuepress项目</p></blockquote><p>4.创建本地仓库，并添加远程仓库</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">git init  </span>
<span class="line">git remote add origin git@github.com:***/note.git  </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>5.在github里，点开头像-&gt;settings-&gt;developer settings-&gt;personal access token-&gt;generate token 创建一个新的密钥，然后复制它，或者记下来。</p><p>6.回到你的github项目，settings-&gt;secrets and variables-&gt;actions-&gt;new repository secrets，添加一个名称为ACCESS_TOKEN的token，将刚刚你复制的密钥放进去，保存。</p><p>7.push你的代码到远程仓库</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">git</span> push origin master</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>8.在github项目，settings-&gt;pages-&gt;branchs，选择gh-pages分支，save。等待一段时间后，刷新页面，就会显示你的vuepress已经部署成功。</p><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h2><p>vuepress官方文档：<a href="https://vuepress.vuejs.org/zh/guide/getting-started.html" target="_blank" rel="noopener noreferrer">https://vuepress.vuejs.org/zh/guide/getting-started.html</a></p>`,22)]))}const u=n(p,[["render",i]]),o=JSON.parse('{"path":"/azilnote/%E9%83%A8%E7%BD%B2%E5%88%B0githubpages.html","title":"部署到Github Pages服务器","lang":"en-US","frontmatter":{"title":"部署到Github Pages服务器"},"git":{"updatedTime":1705659158000,"contributors":[{"name":"dongyz8","username":"dongyz8","email":"dongyz8@gdii-yueyun.com","commits":3,"url":"https://github.com/dongyz8"}],"changelog":[{"hash":"094ebbdc70b0bfc8b1ffae8e4068a5bb40e870c9","time":1705659158000,"email":"dongyz8@gdii-yueyun.com","author":"dongyz8","message":"commit"},{"hash":"783c0f624be2ca1bb7a59b91c3bcbd94d1994579","time":1698633514000,"email":"dongyz8@gdii-yueyun.com","author":"dongyz8","message":"commit"},{"hash":"d27d855001a823f89b4c608376d70763a37a803b","time":1698397024000,"email":"dongyz8@gdii-yueyun.com","author":"dongyz8","message":"commit"}]},"filePathRelative":"azilnote/部署到githubpages.md"}');export{u as comp,o as data};
