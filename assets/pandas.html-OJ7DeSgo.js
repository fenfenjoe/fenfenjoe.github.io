import{_ as s,c as a,a as p,o as e}from"./app-iMoEB5u2.js";const t={};function l(c,n){return e(),a("div",null,n[0]||(n[0]=[p(`<h1 id="pandas" tabindex="-1"><a class="header-anchor" href="#pandas"><span>Pandas</span></a></h1><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2><p>【API文档】<a href="https://pandas.pydata.org/docs/index.html" target="_blank" rel="noopener noreferrer">https://pandas.pydata.org/docs/index.html</a></p><h2 id="【dataframe】创建" tabindex="-1"><a class="header-anchor" href="#【dataframe】创建"><span>【DataFrame】创建</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token comment">#创建一个索引为日期、有ABCD4行且已有数据的DataFrame</span></span>
<span class="line">data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span></span>
<span class="line">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">,</span>index<span class="token operator">=</span>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">&#39;20130101&#39;</span><span class="token punctuation">,</span>periods<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;D&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">###data可以是：</span></span>
<span class="line">data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">#ndarray</span></span>
<span class="line">data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;Site&#39;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">&#39;Google&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Runoob&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Wiki&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39;Age&#39;</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">}</span>  <span class="token comment">#字典嵌套列表</span></span>
<span class="line">data <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>index<span class="token operator">=</span>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">&#39;20130102&#39;</span><span class="token punctuation">,</span>periods<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#series</span></span>
<span class="line">data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;c&#39;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token comment">#字典列表</span></span>
<span class="line">data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token comment">#list</span></span>
<span class="line">data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;tom&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;20110101&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;jack&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;20110102&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment">#二维数组</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 创建空DataFrame，索引为日期类型</span></span>
<span class="line">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;D&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span>pd<span class="token punctuation">.</span>DatetimeIndex<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="【dataframe】列操作" tabindex="-1"><a class="header-anchor" href="#【dataframe】列操作"><span>【DataFrame】列操作</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token comment">#列操作</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#获取所有列名（返回List）</span></span>
<span class="line"><span class="token builtin">list</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span></span>
<span class="line">df<span class="token punctuation">.</span>columns<span class="token punctuation">.</span>values</span>
<span class="line"></span>
<span class="line"><span class="token comment">#获取某列（返回DataFrame），A为列名</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#获取第一列</span></span>
<span class="line">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#将索引转变为列（新的索引变为0,1,2,...）</span></span>
<span class="line">df <span class="token operator">=</span> df<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&#39;newColumnName&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#将将索引转变为列（索引值不变，只是插入新的一列）</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;newColumnName&#39;</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">.</span>index</span>
<span class="line"></span>
<span class="line"><span class="token comment">#将已经存在的数据列做相加运算（并生成新的列）</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;four&#39;</span><span class="token punctuation">]</span><span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">&#39;one&#39;</span><span class="token punctuation">]</span><span class="token operator">+</span>df<span class="token punctuation">[</span><span class="token string">&#39;three&#39;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#添加一列</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;E&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;3&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;4&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;5&#39;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#添加一列（2）</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;E&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>index<span class="token operator">=</span>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">&#39;20130102&#39;</span><span class="token punctuation">,</span>periods<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#往1位置插入score列</span></span>
<span class="line">df<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>column<span class="token operator">=</span><span class="token string">&#39;score&#39;</span><span class="token punctuation">,</span>value<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">91</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#删除列</span></span>
<span class="line">df<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">&#39;two&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">del</span> df<span class="token punctuation">[</span><span class="token string">&#39;one&#39;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#修改列名</span></span>
<span class="line">df<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>columns<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;old_col1&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;new_col1&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="【dataframe】行操作" tabindex="-1"><a class="header-anchor" href="#【dataframe】行操作"><span>【DataFrame】行操作</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token comment">#行操作</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#获取所有index</span></span>
<span class="line">df<span class="token punctuation">.</span>index<span class="token punctuation">.</span>values</span>
<span class="line"></span>
<span class="line"><span class="token comment">#通过Index获取某行（返回DataFrame）</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;20130104&#39;</span><span class="token punctuation">:</span><span class="token string">&#39;20130106&#39;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment">#获取某行（按照序号，0为第1行），返回的是一个Series对象</span></span>
<span class="line">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  <span class="token comment"># 注意！索引如果是日期、字符串时，这种写法会报错</span></span>
<span class="line">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> </span>
<span class="line"></span>
<span class="line"><span class="token comment">#获取多行(第1、4行)，返回的是一个DataFrame对象</span></span>
<span class="line">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#获取前几行（返回DataFrame）</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#获取多行，并只返回部分的列</span></span>
<span class="line">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment">#追加行</span></span>
<span class="line">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">df2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">df <span class="token operator">=</span> df<span class="token punctuation">.</span>append<span class="token punctuation">(</span>df2<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#删除行（index=0的行）</span></span>
<span class="line">df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="【dataframe】值操作" tabindex="-1"><a class="header-anchor" href="#【dataframe】值操作"><span>【DataFrame】值操作</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token comment">#获取某个单元格的值(index=0,列名为A的值)</span></span>
<span class="line">df<span class="token punctuation">.</span>loc<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">)</span><span class="token comment">#返回一个series</span></span>
<span class="line">df<span class="token punctuation">.</span>iloc<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#查看前5条数据</span></span>
<span class="line">df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span></span>
<span class="line">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#查看最后5条数据</span></span>
<span class="line">df<span class="token punctuation">.</span>tail<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span></span>
<span class="line">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#查找index=5的行</span></span>
<span class="line">df<span class="token punctuation">.</span>loc<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#查找Index在某个范围的行</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;20130104&#39;</span><span class="token punctuation">:</span><span class="token string">&#39;20130106&#39;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#返回某列</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#返回多列</span></span>
<span class="line">df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#【赋值】</span></span>
<span class="line"><span class="token comment">#对第0行、第1列的单元格赋值为0（单个元素修改优先用iat）</span></span>
<span class="line">df<span class="token punctuation">.</span>iat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#修改第1-2行、第1-2列（多个元素修改用iloc）</span></span>
<span class="line">df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>  </span>
<span class="line"></span>
<span class="line"><span class="token comment">#将index=&#39;2024-01-01&#39;、列名为A对应的单元格赋值为0</span></span>
<span class="line">df<span class="token punctuation">.</span>at<span class="token punctuation">[</span><span class="token string">&#39;2024-01-01&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;A&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#同上</span></span>
<span class="line">df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">&#39;2024-01-01&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;A&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">df<span class="token punctuation">[</span><span class="token string">&#39;F&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> s1</span>
<span class="line">df2<span class="token punctuation">[</span>df2 <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>df2</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="【dataframe】查询" tabindex="-1"><a class="header-anchor" href="#【dataframe】查询"><span>【Dataframe】查询</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">#查出display_name=&#39;万科&#39;的行</span>
<span class="line">result = df[df[&#39;display_name&#39;]==&#39;万科&#39;]</span>
<span class="line"></span>
<span class="line">#查出display_name包含&#39;万科&#39;的行（模糊搜索）</span>
<span class="line">result = df[df[&#39;display_name&#39;].str.contains(&#39;万科&#39;)]</span>
<span class="line"></span>
<span class="line">#查出type列中的所有值（去重）</span>
<span class="line">df[&#39;type&#39;].unique()</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="【dataframe】合并" tabindex="-1"><a class="header-anchor" href="#【dataframe】合并"><span>【Dataframe】合并</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">#根据索引合并2个df数据</span>
<span class="line">result = df1.join(df2)</span>
<span class="line"></span>
<span class="line">#根据字段name合并2个df数据</span>
<span class="line">result = pd.merge(df1,df2,on=&#39;name&#39;,how=&#39;inner&#39;)</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="【dataframe】自带画图功能" tabindex="-1"><a class="header-anchor" href="#【dataframe】自带画图功能"><span>【Dataframe】自带画图功能</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line"># 以索引为X轴，所有列为Y轴画一个折线图</span>
<span class="line">df.plot()</span>
<span class="line"></span>
<span class="line"># 以索引为X轴，以price列为Y轴</span>
<span class="line">df.plot(x=&#39;日期&#39;,y=&#39;price&#39;)</span>
<span class="line"></span>
<span class="line"># kind:图表类型。有line(折线图，默认)、bar(柱状图)、scatter(散点图)等</span>
<span class="line"># title:图表标题</span>
<span class="line"># color:指定折线颜色</span>
<span class="line"># linestyle: &#39;-&#39;实线(默认)、&#39;--&#39;虚线</span>
<span class="line"># marker: &#39;o&#39;圆形、&#39;s&#39;方形</span>
<span class="line"># markersize: 标记大小</span>
<span class="line"># figsize: 图表尺寸（英寸）</span>
<span class="line"># subplots: True/False 每列数据单独绘制子图</span>
<span class="line"># layout: 配合subplots使用，指定子图排列方式（如(2,2)就是2行2列）</span>
<span class="line"># xlim/ylim: x轴/y轴显示范围，如(0,10)</span>
<span class="line"># logx/logy: x轴/y轴对数刻度</span>
<span class="line">df.plot(x=&#39;日期&#39;,y=&#39;price&#39;,kind=&#39;bar&#39;,title=&#39;&#39;,color:[&#39;blue&#39;,&#39;green&#39;...],</span>
<span class="line">    linestyle=&#39;--&#39;,figsize=(12,6))</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="【series】创建" tabindex="-1"><a class="header-anchor" href="#【series】创建"><span>【Series】创建</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token comment">#创建一个Series（默认数组：0,1,2,3...）</span></span>
<span class="line">s1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#使用 list 创建 Series</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#自定义索引</span></span>
<span class="line">s2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;indexA&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;indexB&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;indexC&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> </span>
<span class="line"></span>
<span class="line"><span class="token comment">#使用 dict 创建 Series。key会变为索引，value变为值</span></span>
<span class="line">s3 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">:</span> <span class="token string">&quot;Google&quot;</span><span class="token punctuation">,</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">:</span> <span class="token string">&quot;Runoob&quot;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">:</span> <span class="token string">&quot;Wiki&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> </span>
<span class="line"></span>
<span class="line"><span class="token comment">#获取索引</span></span>
<span class="line">s2<span class="token punctuation">.</span>index</span>
<span class="line"></span>
<span class="line"><span class="token comment">#获取元素</span></span>
<span class="line">s2<span class="token punctuation">.</span>values</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment">#获取某个索引下的数据</span></span>
<span class="line">s2<span class="token punctuation">[</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">]</span> <span class="token comment">#获取index为B的元素</span></span>
<span class="line">s2<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment">#获取index为A、B的元素</span></span>
<span class="line">s2<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">#获取第1~2行的元素</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#for循环</span></span>
<span class="line"><span class="token keyword">for</span> index<span class="token punctuation">,</span>value <span class="token keyword">in</span> s2<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;index:</span><span class="token interpolation"><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span><span class="token string"> value:</span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&#39;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#运算</span></span>
<span class="line">s1 <span class="token operator">=</span> s1 <span class="token operator">*</span> <span class="token number">2</span> <span class="token comment">#所有元素乘以2</span></span>
<span class="line">s1 <span class="token operator">=</span> s1<span class="token punctuation">[</span>s1 <span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">#过滤出大于2的元素</span></span>
<span class="line"></span>
<span class="line">s5 <span class="token operator">=</span> s4 <span class="token operator">+</span> s3 <span class="token comment">#同一索引的元素相加，没有元素则用NaN表示</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#增加</span></span>
<span class="line">s2<span class="token punctuation">[</span><span class="token string">&#39;D&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token string">&#39;Microsoft&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#元素个数</span></span>
<span class="line">s2<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></span>
<span class="line">s2<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#前3个、后3个</span></span>
<span class="line">s2<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></span>
<span class="line">s2<span class="token punctuation">.</span>tail<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#把索引变成列（又变回一个DataFrame）</span></span>
<span class="line">s2<span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#去重</span></span>
<span class="line">s2<span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,19)]))}const o=s(t,[["render",l]]),u=JSON.parse('{"path":"/python/pandas.html","title":"pandas","lang":"en-US","frontmatter":{"title":"pandas","sidebar":"heading","sidebarDepth":1},"git":{"updatedTime":1750240340000,"contributors":[{"name":"dongyz8","username":"dongyz8","email":"dongyz8@gdii-yueyun.com","commits":4,"url":"https://github.com/dongyz8"}],"changelog":[{"hash":"ad8fc1a188d6829c38676e985c8e2097211af10d","time":1750240340000,"email":"dongyz8@gdii-yueyun.com","author":"dongyz8","message":"commit"},{"hash":"5c9ebb4a07b7856d42550142a45aa8d9327f347c","time":1743157920000,"email":"dongyz8@gdii-yueyun.com","author":"dongyz8","message":"commit"},{"hash":"5db2da61cea53db1b2bf3488c5a26b3b0b7887a7","time":1741342679000,"email":"dongyz8@gdii-yueyun.com","author":"dongyz8","message":"commit"},{"hash":"45b5590437faf102707a4627c085a1bcba76a5a3","time":1740293597000,"email":"dongyz8@gdii-yueyun.com","author":"dongyz8","message":"commit"}]},"filePathRelative":"python/pandas.md"}');export{o as comp,u as data};
