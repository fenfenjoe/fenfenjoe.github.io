import{_ as n,c as a,a as e,o as p}from"./app-neTUUq9d.js";const t={};function l(o,s){return p(),a("div",null,s[0]||(s[0]=[e(`<h1 id="redis-数据结构" tabindex="-1"><a class="header-anchor" href="#redis-数据结构"><span>Redis 数据结构</span></a></h1><h2 id="_1-string-字符串" tabindex="-1"><a class="header-anchor" href="#_1-string-字符串"><span>1. String（字符串）</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 设置键值对</span></span>
<span class="line">SET <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 获取值</span></span>
<span class="line">GET <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 删除键</span></span>
<span class="line">DEL <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 自增（值为整数时）</span></span>
<span class="line">INCR <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 自减（值为整数时）</span></span>
<span class="line">DECR <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 设置键值并指定过期时间（秒）</span></span>
<span class="line">SETEX <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>seconds<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-hash-哈希表" tabindex="-1"><a class="header-anchor" href="#_2-hash-哈希表"><span>2. Hash（哈希表）</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 设置单个字段</span></span>
<span class="line">HSET <span class="token operator">&lt;</span>hashname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>field<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 批量设置字段</span></span>
<span class="line">HMSET <span class="token operator">&lt;</span>hashname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>field<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token operator">&lt;</span>value<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token operator">&lt;</span>field<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> <span class="token operator">&lt;</span>value<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> <span class="token punctuation">..</span>.</span>
<span class="line"><span class="token comment"># 获取单个字段值</span></span>
<span class="line">HGET <span class="token operator">&lt;</span>hashname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>field<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 获取所有字段和值</span></span>
<span class="line">HGETALL <span class="token operator">&lt;</span>hashname<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 获取所有字段名</span></span>
<span class="line">HKEYS <span class="token operator">&lt;</span>hashname<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 获取所有字段值</span></span>
<span class="line">HVALS <span class="token operator">&lt;</span>hashname<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 删除字段</span></span>
<span class="line">HDEL <span class="token operator">&lt;</span>hashname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>field<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-list-列表" tabindex="-1"><a class="header-anchor" href="#_3-list-列表"><span>3. List（列表）</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 左侧插入元素</span></span>
<span class="line">LPUSH <span class="token operator">&lt;</span>listname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>value<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token punctuation">[</span>value2 <span class="token punctuation">..</span>.<span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># 右侧插入元素</span></span>
<span class="line">RPUSH <span class="token operator">&lt;</span>listname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>value<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token punctuation">[</span>value2 <span class="token punctuation">..</span>.<span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># 左侧弹出元素</span></span>
<span class="line">LPOP <span class="token operator">&lt;</span>listname<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 右侧弹出元素</span></span>
<span class="line">RPOP <span class="token operator">&lt;</span>listname<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 获取指定范围元素（0=首元素，-1=尾元素）</span></span>
<span class="line">LRANGE <span class="token operator">&lt;</span>listname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>start<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>stop<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 获取列表长度</span></span>
<span class="line">LLEN <span class="token operator">&lt;</span>listname<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-set-集合" tabindex="-1"><a class="header-anchor" href="#_4-set-集合"><span>4. Set（集合）</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 添加元素</span></span>
<span class="line">SADD <span class="token operator">&lt;</span>setname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>member<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token punctuation">[</span>member2 <span class="token punctuation">..</span>.<span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># 获取所有元素</span></span>
<span class="line">SMEMBERS <span class="token operator">&lt;</span>setname<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 删除元素</span></span>
<span class="line">SREM <span class="token operator">&lt;</span>setname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>member<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token punctuation">[</span>member2 <span class="token punctuation">..</span>.<span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># 判断元素是否存在</span></span>
<span class="line">SISMEMBER <span class="token operator">&lt;</span>setname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>member<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 计算交集</span></span>
<span class="line">SINTER <span class="token operator">&lt;</span>set<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token operator">&lt;</span>set<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span></span>
<span class="line"><span class="token comment"># 计算并集</span></span>
<span class="line">SUNION <span class="token operator">&lt;</span>set<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token operator">&lt;</span>set<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-sorted-set-有序集合" tabindex="-1"><a class="header-anchor" href="#_5-sorted-set-有序集合"><span>5. Sorted Set（有序集合）</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 添加元素（score为排序权重）</span></span>
<span class="line">ZADD <span class="token operator">&lt;</span>zsetname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>score<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token operator">&lt;</span>member<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token punctuation">[</span>score2 member2 <span class="token punctuation">..</span>.<span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># 获取升序范围元素（WITHSCORES显示分数）</span></span>
<span class="line">ZRANGE <span class="token operator">&lt;</span>zsetname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>start<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>stop<span class="token operator">&gt;</span> <span class="token punctuation">[</span>WITHSCORES<span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># 获取降序范围元素</span></span>
<span class="line">ZREVRANGE <span class="token operator">&lt;</span>zsetname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>start<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>stop<span class="token operator">&gt;</span> <span class="token punctuation">[</span>WITHSCORES<span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># 删除元素</span></span>
<span class="line">ZREM <span class="token operator">&lt;</span>zsetname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>member<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token punctuation">[</span>member2 <span class="token punctuation">..</span>.<span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># 获取元素分数</span></span>
<span class="line">ZSCORE <span class="token operator">&lt;</span>zsetname<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>member<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-bitmap-位图" tabindex="-1"><a class="header-anchor" href="#_6-bitmap-位图"><span>6. Bitmap（位图）</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 设置指定偏移量的位值（1/0），不存在则自动创建</span></span>
<span class="line">SETBIT <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>offset<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>  <span class="token comment"># value: 0 或 1</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取指定偏移量的位值</span></span>
<span class="line">GETBIT <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>offset<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 统计指定范围内为 1 的位数量</span></span>
<span class="line">BITCOUNT <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token punctuation">[</span>end<span class="token punctuation">]</span>  <span class="token comment"># start/end 为字节索引，默认全范围</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 查找第一个为 0/1 的位位置</span></span>
<span class="line">BITPOS <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>bit<span class="token operator">&gt;</span> <span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token punctuation">[</span>end<span class="token punctuation">]</span>  <span class="token comment"># bit: 0 或 1</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 将指定偏移量的位设为 0（逻辑删除）</span></span>
<span class="line">SETBIT <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>offset<span class="token operator">&gt;</span> <span class="token number">0</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 直接删除整个 Bitmap 键（物理删除）</span></span>
<span class="line">DEL <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-hyperloglog-基数统计" tabindex="-1"><a class="header-anchor" href="#_7-hyperloglog-基数统计"><span>7. HyperLogLog（基数统计）</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 向 HyperLogLog 中添加一个或多个元素</span></span>
<span class="line">PFADD <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>element<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token punctuation">[</span>element2<span class="token punctuation">]</span> <span class="token punctuation">..</span>.</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 估算集合的基数（不重复元素数量）</span></span>
<span class="line">PFCOUNT <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token punctuation">[</span>key2<span class="token punctuation">]</span> <span class="token punctuation">..</span>.  <span class="token comment"># 可同时统计多个 HyperLogLog</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 将多个 HyperLogLog 合并到目标 key</span></span>
<span class="line">PFMERGE <span class="token operator">&lt;</span>destkey<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>sourcekey<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token punctuation">[</span>sourcekey2<span class="token punctuation">]</span> <span class="token punctuation">..</span>.</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 直接删除整个 HyperLogLog 键（物理删除）</span></span>
<span class="line">DEL <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-geospatial-地理空间" tabindex="-1"><a class="header-anchor" href="#_8-geospatial-地理空间"><span>8. Geospatial（地理空间）</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 添加一个或多个地理位置（经度、纬度、成员名）</span></span>
<span class="line">GEOADD <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>longitude<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>latitude<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>member<span class="token operator">&gt;</span> <span class="token punctuation">[</span>longitude2 latitude2 member2 <span class="token punctuation">..</span>.<span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 获取一个或多个成员的坐标</span></span>
<span class="line">GEOPOS <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>member<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token punctuation">[</span>member2<span class="token punctuation">]</span> <span class="token punctuation">..</span>.</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 计算两个成员之间的距离（单位：m/km/mi/ft）</span></span>
<span class="line">GEODIST <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>member<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token operator">&lt;</span>member<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> <span class="token punctuation">[</span>unit<span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 根据坐标范围查询成员（返回经纬度、距离、成员名）</span></span>
<span class="line">GEORADIUS <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>longitude<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>latitude<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>radius<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>unit<span class="token operator">&gt;</span> <span class="token punctuation">[</span>WITHCOORD<span class="token punctuation">]</span> <span class="token punctuation">[</span>WITHDIST<span class="token punctuation">]</span> <span class="token punctuation">[</span>WITHHASH<span class="token punctuation">]</span> <span class="token punctuation">[</span>COUNT <span class="token operator">&lt;</span>n<span class="token operator">&gt;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 根据成员位置查询范围内的其他成员</span></span>
<span class="line">GEORADIUSBYMEMBER <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>member<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>radius<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>unit<span class="token operator">&gt;</span> <span class="token punctuation">[</span>WITHCOORD<span class="token punctuation">]</span> <span class="token punctuation">[</span>WITHDIST<span class="token punctuation">]</span> <span class="token punctuation">[</span>WITHHASH<span class="token punctuation">]</span> <span class="token punctuation">[</span>COUNT <span class="token operator">&lt;</span>n<span class="token operator">&gt;</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 从 Geospatial 中删除指定成员（底层调用有序集合的 ZREM）</span></span>
<span class="line">ZREM <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>member<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,17)]))}const i=n(t,[["render",l]]),r=JSON.parse('{"path":"/database/redis/Redis%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html","title":"Redis---数据结构","lang":"en-US","frontmatter":{"title":"Redis---数据结构"},"git":{"updatedTime":1769158895000,"contributors":[{"name":"dongyz8","username":"dongyz8","email":"dongyz8@gdii-yueyun.com","commits":3,"url":"https://github.com/dongyz8"}],"changelog":[{"hash":"f5b2e8fd34e8ab9c3a7314a82dd41b301a6cb926","time":1769158895000,"email":"dongyz8@gdii-yueyun.com","author":"dongyz8","message":"commit"},{"hash":"ad612453d550772a14baa7197b6319d0c506f6a8","time":1689935603000,"email":"dongyz8@gdii-yueyun.com","author":"dongyz8","message":"commit"},{"hash":"70b37d4f176375118b0ae99f54befb1f90908112","time":1689762909000,"email":"dongyz8@gdii-yueyun.com","author":"dongyz8","message":"commit"}]},"filePathRelative":"database/redis/Redis数据结构.md"}');export{i as comp,r as data};
